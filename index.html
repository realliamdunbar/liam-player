<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>You'll Be In My Heart — Player</title>
<link rel="icon" href="Avatar.jpg" />
<style>
  :root{
    --bg-dark:#041022;
    --muted: rgba(230,235,240,0.48);
    --accent: #f5b14a;
    --glass: rgba(255,255,255,0.06);
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui, "Helvetica Neue", Arial; background:#000;color:#fff}
  /* Full-bleed player container */
  .player {
    min-height:100vh;
    width:100%;
    position:relative;
    overflow:hidden;
    display:flex;
    align-items:center;
    justify-content:center;
  }

  /* Full background image blurred */
  .bg {
    position:absolute; inset:0; background-image:url('bg.jpg'); background-size:cover; background-position:center;
    filter: blur(22px) brightness(0.42);
    transform: scale(1.06);
    z-index:0;
  }
  .dim { position:absolute; inset:0; background:linear-gradient(180deg, rgba(4,8,18,0.48), rgba(4,8,18,0.54)); z-index:1; }

  /* Top bar (cover + title) */
  .top {
    position:absolute; top:32px; left:18px; right:18px; z-index:3; display:flex; align-items:center; gap:12px;
    pointer-events:none;
  }
  .cover { width:70px; height:70px; border-radius:12px; overflow:hidden; box-shadow:0 8px 28px rgba(0,0,0,0.6); border:1px solid rgba(255,255,255,0.06) }
  .cover img{width:100%;height:100%;object-fit:cover;display:block}
  .meta { pointer-events:auto; }
  .song { font-weight:700; font-size:1.03rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
  .artist { color:var(--muted); font-size:0.86rem; margin-top:2px }

  /* Centered lyric block */
  .center {
    position:relative; z-index:3; text-align:center; width:92%; max-width:900px;
    display:flex; flex-direction:column; gap:18px; align-items:center;
    padding: 20px 18px;
  }
  .bigLyric {
    font-size:clamp(20px,6.5vw,46px);
    font-weight:800; line-height:1.02; letter-spacing:-0.02em;
    color: #ffffff;
    text-shadow: 0 12px 40px rgba(3,5,10,0.55);
    max-width:100%;
  }
  .subLyric { color: rgba(255,255,255,0.72); font-size: clamp(12px,2.5vw,18px); opacity:0.86; margin-top:6px; }

  /* small lyric list behind (faint) for visual Apple-like scroll */
  .lyricList {
    width:100%; max-width:720px; margin-top:8px; pointer-events:none; color:rgba(255,255,255,0.08);
    font-weight:700; line-height:1.4; letter-spacing: -0.01em;
  }

  /* progress bar and big central control */
  .controlsBox { position:relative; z-index:3; width:92%; max-width:560px; margin-top:18px; display:flex;flex-direction:column;gap:14px; align-items:center }
  .progressWrap { width:100%; display:flex; align-items:center; gap:8px }
  .time { color:var(--muted); font-size:12px; min-width:36px; text-align:center }
  .progress {
    flex:1; height:6px; background: rgba(255,255,255,0.06); border-radius:999px; overflow:hidden; cursor:pointer;
  }
  .fill { height:100%; background: linear-gradient(90deg,#8ff0c8,var(--accent)); width:0%; transition: width 0.08s linear; }

  .playBtn {
    width:86px; height:86px; border-radius:999px; background:#fff; color:#071022; display:flex; align-items:center; justify-content:center;
    font-size:32px; border:none; box-shadow: 0 20px 40px rgba(2,6,23,0.6); cursor:pointer; margin-top:2px;
  }

  /* hide any extra text or note */
  .note { display:none; }

  @media (max-width:420px){
    .top{top:16px; left:12px; right:12px}
    .cover{width:60px;height:60px}
    .playBtn{width:72px;height:72px;font-size:26px}
  }
</style>
</head>
<body>
  <div class="player" id="player">
    <div class="bg" id="bg"></div>
    <div class="dim"></div>

    <div class="top">
      <div class="cover"><img src="Avatar.jpg" alt="Avatar"></div>
      <div class="meta">
        <div class="song">You'll Be In My Heart</div>
        <div class="artist">Phil Collins</div>
      </div>
    </div>

    <div class="center">
      <div id="bigLyric" class="bigLyric">Tap ▶ to play</div>
      <div id="subLyric" class="subLyric">&nbsp;</div>

      <!-- faint stacked lyrics behind -->
      <div id="lyricList" class="lyricList" aria-hidden="true">
        <!-- filled by JS -->
      </div>

      <div class="controlsBox">
        <div class="progressWrap">
          <div class="time" id="leftTime">0:00</div>
          <div class="progress" id="progressBar"><div class="fill" id="progressFill"></div></div>
          <div class="time" id="rightTime">0:00</div>
        </div>

        <button id="playBtn" class="playBtn" aria-label="Play">▶</button>
      </div>

    </div>
  </div>

  <audio id="audio" src="song.mp3" preload="metadata"></audio>

<script>
/* Lyrics list you gave — timestamps in seconds */
const LYRICS = [
  {t:10.59, text:"Come stop your crying, it will be alright"},
  {t:15.56, text:"Just take my hand, hold it tight"},
  {t:20.52, text:"I will protect you from all around you"},
  {t:25.49, text:"I will be here, don't you cry"},
  {t:30.50, text:"For one so small, you seem so strong"},
  {t:35.43, text:"My arms will hold you, keep you safe and warm"},
  {t:40.44, text:"This bond between us can't be broken"},
  {t:45.30, text:"I will be here, don't you cry"},
  {t:49.73, text:"'Cause you'll be in my heart"},
  {t:54.66, text:"Yes, you'll be in my heart"},
  {t:59.65, text:"From this day on, now and forevermore"},
  {t:70.01, text:"You'll be in my heart"},
  {t:74.61, text:"No matter what they say"},
  {t:79.47, text:"You'll be here in my heart, always"},
  {t:92.66, text:"Why can't they understand the way we feel?"},
  {t:97.42, text:"They just don't trust what they can't explain"},
  {t:102.43, text:"I know we're different, but deep inside us"},
  {t:107.41, text:"We're not that different at all"},
  {t:111.72, text:"And you'll be in my heart"},
  {t:116.76, text:"Yes, you'll be in my heart"},
  {t:121.66, text:"From this day on, now and forevermore"},
  {t:131.69, text:"Don't listen to them"},
  {t:134.34, text:"'Cause what do they know?"},
  {t:136.69, text:"We need each other, to have, to hold"},
  {t:141.59, text:"They'll see in time, I know"},
  {t:151.47, text:"When destiny calls you"},
  {t:154.10, text:"You must be strong"},
  {t:156.52, text:"I may not be with you, but you got to hold on"},
  {t:161.50, text:"They'll see in time, I know"},
  {t:168.97, text:"We'll show them together"},
  {t:171.37, text:"'Cause you'll be in my heart"},
  {t:175.95, text:"Believe me, you'll be in my heart"},
  {t:180.57, text:"I'll be there from this day on, now and forevermore"},
  {t:191.05, text:"Ooh, you'll be in my heart"},
  {t:196.55, text:"No matter what they say"},
  {t:201.34, text:"You'll be here in my heart"},
  {t:206.37, text:"Always, always"},
  {t:216.05, text:"I'll be with you"},
  {t:221.11, text:"I'll be there for you always"},
  {t:225.07, text:"Always and always"},
  {t:230.56, text:"Just look over your shoulder"},
  {t:235.51, text:"Just look over your shoulder"},
  {t:240.52, text:"Just look over your shoulder"},
  {t:244.01, text:"I'll be there, always"}
];

const audio = document.getElementById('audio');
const playBtn = document.getElementById('playBtn');
const leftTime = document.getElementById('leftTime');
const rightTime = document.getElementById('rightTime');
const progressFill = document.getElementById('progressFill');
const progressBar = document.getElementById('progressBar');
const bigLyric = document.getElementById('bigLyric');
const subLyric = document.getElementById('subLyric');
const lyricList = document.getElementById('lyricList');

let active = -1;
let playing = false;

/* populate faint lyric list (visual only) */
(function fillLyricList(){
  lyricList.innerHTML = LYRICS.map(l=> `<div>${l.text}</div>`).join('\n');
})();

/* format time mm:ss */
function fmtTime(s){
  if(!s || isNaN(s)) return '0:00';
  const m = Math.floor(s/60);
  const sec = Math.floor(s%60).toString().padStart(2,'0');
  return m + ':' + sec;
}

/* update UI on metadata */
audio.addEventListener('loadedmetadata', () => {
  rightTime.textContent = fmtTime(audio.duration);
});

/* time update and lyric sync */
audio.addEventListener('timeupdate', () => {
  const t = audio.currentTime;
  leftTime.textContent = fmtTime(t);
  const pct = (t / (audio.duration || 1)) * 100;
  progressFill.style.width = pct + '%';
  syncLyric(t);
});

/* lyric sync logic: pick lyric block where t belongs */
function syncLyric(cur){
  let idx = -1;
  for(let i=0;i<LYRICS.length;i++){
    const now = LYRICS[i].t;
    const next = (i+1<LYRICS.length) ? LYRICS[i+1].t : Infinity;
    if(cur >= now && cur < next) { idx = i; break; }
  }
  if(idx !== active){
    active = idx;
    if(idx < 0){
      bigLyric.textContent = "Tap ▶ to play";
      subLyric.textContent = "";
    } else {
      bigLyric.textContent = LYRICS[idx].text;
      subLyric.textContent = (idx+1<LYRICS.length) ? LYRICS[idx+1].text : "";
    }
  }
}

/* play/pause behaviour */
playBtn.addEventListener('click', async () => {
  if(audio.paused){
    try{
      await audio.play();
      playing = true;
      playBtn.textContent = '⏸';
    }catch(e){
      console.error('play failed', e);
      alert('Play failed — open page from GitHub Pages or local with a static server.');
    }
  } else {
    audio.pause();
    playing = false;
    playBtn.textContent = '▶';
  }
});

/* progress seek */
progressBar.addEventListener('click', (e)=>{
  const r = progressBar.getBoundingClientRect();
  const x = (e.clientX - r.left);
  const pct = Math.min(Math.max(x / r.width, 0), 1);
  if(!isNaN(audio.duration)) audio.currentTime = pct * audio.duration;
});

/* when audio ends, reset */
audio.addEventListener('ended', ()=>{
  playing = false;
  playBtn.textContent = '▶';
  active = -1;
  bigLyric.textContent = "Tap ▶ to play";
  subLyric.textContent = "";
});

/* quick fallback: if audio can't load, console the error */
audio.addEventListener('error', (e)=>{
  console.error('audio error', audio.error);
});
</script>
</body>
</html>
